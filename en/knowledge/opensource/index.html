<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.69.2"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>How to prepare your code to Open Source | Leroy Merlin Tech</title><meta property="og:title" content="How to prepare your code to Open Source"><meta property="og:description" content="A short tutorial for the code cleaning."><meta property="og:type" content="article"><meta property="og:url" content="/en/knowledge/opensource/"><meta property="og:image" content="https://tech.leroymerlin.ru/images/leroy-merlin-tech.en.jpg"><meta property="article:modified_time" content="2021-03-24T18:37:53+03:00"><meta property="og:site_name" content="Leroy Merlin Tech"><meta itemprop=name content="How to prepare your code to Open Source"><meta itemprop=description content="A short tutorial for the code cleaning."><meta itemprop=dateModified content="2021-03-24T18:37:53+03:00"><meta itemprop=wordCount content="1044"><meta itemprop=image content="https://tech.leroymerlin.ru/images/leroy-merlin-tech.en.jpg"><meta itemprop=keywords content><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://tech.leroymerlin.ru/images/leroy-merlin-tech.en.jpg"><meta name=twitter:title content="How to prepare your code to Open Source"><meta name=twitter:description content="A short tutorial for the code cleaning."><script async src="https://www.googletagmanager.com/gtag/js?id=G-EJPYBKPS1Q"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','G-EJPYBKPS1Q');</script><link rel=preload href=/scss/main.min.da67bc1b242c66f3b61d5320fa3b865c6fc314b03ccbb0772a8a12a17d6da699.css as=style><link href=/scss/main.min.da67bc1b242c66f3b61d5320fa3b865c6fc314b03ccbb0772a8a12a17d6da699.css rel=stylesheet integrity></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/en/><span class=navbar-logo><svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg"><path d="m475.65 371.26-472.26.14 235.93-243.18 118.17 121.52z" fill="#fff"/><path d="m239.38 226.59-122.7 125.91H360.8z" fill="#7bb51c"/><path d="M84.613 317.218l27.407 29.124 19.007-19.27-6.364-6.687L112.7 332.44 91.657 310.1zm22.9-23.228 27.662 28.772 19.516-19.798-5.346-5.63-12.388 12.494-5.94-6.335 9.928-10.03-5.6-5.895-9.928 10.03-5.1-5.455L132.3 280l-5.346-5.63zm91.47-64.76c-7.9-8.36-21.468-7.4-28.086-.704-6.534 6.687-9.928 19.886-.68 29.74 10.182 10.823 22.316 6.863 28.85.264 9.758-9.767 6.28-22.525-.085-29.3zm-5.77 23.58c-4.327 4.4-9.673 3.168-15.698-3.256-5.1-5.455-4.837-10.9-1.103-14.606 2.546-2.552 7.722-4.927 13.916 1.672 6.958 7.48 7.212 11.8 2.885 16.2zm24.013-35.372-6.45-27.98-8.23 8.36 4.243 15.838-14.425-5.543-7.806 7.83 24.692 8.27 11.625 11.967 7.212-7.303zm-34.705 57.545s-17.48-6.16-18.328-6.07c-.255.088 3.733-11.087-5.26-16.014.0.0-6.703-3.784-13.407 2.552l-14.34 14.694 27.577 28.86 7.297-7.4-14.934-15.838 24.183 6.6zm-27.068-3.96c-4.073 4.135-4.582 4.4-4.582 4.4l-6.618-7.04c-.255-.264 4.582-4.487 5.346-5.28.34-.352 3.3-2.376 5.77.264-.085.088 4.158 3.52.085 7.655zm68.816-70.127 9.42-20.853L218.68 195l-6.364-6.687 27.83-28.684 9.164 9.503-10.097 20.5 20.534-9.6 8.74 9.24-27.83 28.684-6.788-7.04 14.764-15.134-20.195 9.415zm48.535 38.804-5.685 5.895-19.346-20.237 27.916-28.684L295.046 217l-5.6 5.807-12.22-12.758-4.497 4.663 9.588 10.03-5.855 6.07-9.588-9.943-6.024 6.247zm30.207 43.466 27.83-28.772 7.212 7.567-21.128 21.733 11.794 12.318-6.788 6.95zm58.878 3.73-27.893 28.688-7-7.3 27.893-28.688zm-21.713 35.16 27.916-28.772 9.503 10.03-8.146 29.74 18.498-19.006 6.364 6.687-27.916 28.684-8.315-8.7 7.212-31.236-18.583 19.446zm-21.89-80.774-16.97-17.686-27.916 28.596 7.212 7.48 15.273-15.662-5.515 25.87 7.382 7.655 5.94-19.27s6.28 3.608 13.152-2.552c0 0 6.618-6.687 1.442-14.43zm-10.352 8.36s-3.564 2.464-6.703-.792l-4.92-5.367 6.703-6.863 5.176 5.367c.5.616 4.073 3.432-.255 7.655z"/></svg></span><span class="text-uppercase font-weight-bold">Leroy Merlin Tech</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/en/values/><span>Our Values</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/en/stack/><span>Stack</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/en/api/><span>API</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/en/knowledge/><span class=active>Knowledge</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/knowledge/opensource/>Русский</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/knowledge/opensource/>Русский</a></div></div><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/en/knowledge/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Knowledge</a></li><ul><li class="collapse show" id=enknowledge><a class="td-sidebar-link td-sidebar-link__page" id=m-enknowledgedev-levels href=/en/knowledge/dev-levels/>Developer Profiles</a>
<a class="td-sidebar-link td-sidebar-link__page active" id=m-enknowledgeopensource href=/en/knowledge/opensource/>How to prepare your code to Open Source</a></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/adeo/lmru--tech/edit/master/content/en/knowledge/opensource.md target=_blank><i class="fa fa-edit fa-fw"></i>Edit page</a>
<a href="https://github.com/adeo/lmru--tech/issues/new?title=How%20to%20prepare%20your%20code%20to%20Open%20Source" target=_blank><i class="fab fa-github fa-fw"></i>Offer an improvement</a></div><nav id=TableOfContents><ul><li><a href=#three-steps-to-open-source-your-code>Three steps to open source your code</a><ul><li><a href=#step-1-check-attribution-and-project-originality>Step 1. Check attribution and project originality.</a></li><li><a href=#step-2-choose-the-license>Step 2. Choose the license</a></li><li><a href=#step-3-check-compatibility-of-third-party-dependencies>Step 3. Check compatibility of third-party dependencies.</a></li></ul></li><li><a href=#all-steps-have-been-passed>All Steps Have Been Passed</a></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=/en/knowledge/>Knowledge</a></li><li class="breadcrumb-item active" aria-current=page><a href=/en/knowledge/opensource/>How to prepare your code to Open Source</a></li></ol></nav><div class=td-content><h1>How to prepare your code to Open Source</h1><div class=lead>A short tutorial for the code cleaning.</div><p>We actively use open source solutions created and supported by enthusiasts from around the world.
We want to not only use but to return the contribution and participate in the development
of Open source products and support the community.</p><p>Here is the instruction for the teams what to do in order to open up the project.</p><h2 id=three-steps-to-open-source-your-code>Three steps to open source your code</h2><a id=td-block-0 class=td-offset-anchor></a><section class="row td-box td-box--white td-box--gradient td-box--height-auto"><div class=col><div class=row><div class="col-lg-4 mb-5 mb-lg-0 text-center"><div class="mb-4 h1"><i class="fas fa-dice-one"></i></div><h4 class=h3>Step 1</h4><p class=mb-0><p>Check attribution and project originality</p></p></div><div class="col-lg-4 mb-5 mb-lg-0 text-center"><div class="mb-4 h1"><i class="fas fa-dice-two"></i></div><h4 class=h3>Step 2</h4><p class=mb-0><p>Choose the license</p></p></div><div class="col-lg-4 mb-5 mb-lg-0 text-center"><div class="mb-4 h1"><i class="fas fa-dice-three"></i></div><h4 class=h3>Step 3</h4><p class=mb-0><p>Check compatibility of third-party dependencies</p></p></div></div></div></section><h3 id=step-1-check-attribution-and-project-originality>Step 1. Check attribution and project originality.</h3><p>The project should have a list of members for the project. Each member should have:</p><ul><li>Identity – Pavel Griboedov</li><li>Company — LLC «Leroy Merlin Vostok»</li><li>Contact email – <a href=mailto:pavel.griboedov@leroymerlin.ru>pavel.griboedov@leroymerlin.ru</a></li></ul><h4 id=setting-correct-information-in-git>Setting correct information in <code>git</code></h4><p>It is required to send proper meta information in all commits.
This information used to determine an author of the code.</p><pre><code>git config --global user.name &quot;Pavel Griboedov&quot;
git config --global user.email &quot;pavel.griboedov@leroymerlin.ru&quot;
</code></pre><p>Involving trainee or temp workers in the open sourcing internal projects or
in contributing to third-party projects is strictly prohibited.</p><p>When an external company writes code for us then this fact should be mentioned and we should have a proper contract.</p><h4 id=checking-originality>Checking originality</h4><p>Originality is an important legal concept. We can enforce legal rights only if the code is <em>original</em>.
In practice, originality stems from the ability to identify <em>design decisions</em> in the source code.</p><div class="alert alert-success" role=alert><h4 class=alert-heading>Design Decision</h4><p>Personal intellectual contribution of the developer demonstrating that another developer would have solved
the technical issue in a different manner.</p><p><img src=/images/design_decision.jpg alt="Design Decision Example"></p></div><div class="alert alert-danger" role=alert><h4 class=alert-heading>Not a Design Decision</h4><p>Automatically generated code or the code which can only be written in a single manner.</p><p><img src=/images/not_design_decision.jpg alt="Not A Design Decision Example"></p></div><h3 id=step-2-choose-the-license>Step 2. Choose the license</h3><p>The hardest and the most important part is to choose the correct license for your code.
Some third-party libraries used in your project can force you to use a specific license —
more details in <a href=#step-3-check-compatibility-of-third-party-dependencies>step 3</a>.</p><h5 id=copyleft-licenses>Copyleft licenses</h5><p>This type of license in most of the cases requires to use the same open source
license when distributing the code together with yours.</p><p>The most popular license here is <a href=https://choosealicense.com/licenses/gpl-3.0/>GNU GPLv3</a>.
It lets people do almost anything they want with your project, except distributing closed source versions.</p><h5 id=copyright-licenses>Copyright licenses</h5><p>This type of license allows everyone to distribute the code together with your code in the closed proprietary products.</p><ul><li><p>BSD — there is two general editions.
The <a href=https://opensource.org/licenses/BSD-3-Clause>original</a> license requires advertisement of the initial project on all products uses the code with the line like
«This product includes software developed by the <code>organization</code>».
<a href=https://opensource.org/licenses/bsd-license.php>Modified</a> version not includes this requirement.
All versions are going under the same name and to avoid collision <strong>we do not recommend</strong> to use this licenses.
This license ignores patent rights, described further.</p></li><li><p><a href=https://opensource.org/licenses/MIT>MIT</a> - short license in several paragraphs.
The license beloved by developers because of simplicity and it works well for small projects.
The MIT license was drafted before software patents were common. Therefore, they completely ignore the topic.</p></li></ul><div class="alert alert-primary" role=alert><h4 class=alert-heading>Difference between Copyright and Patent</h4><p>There are two, completely independent, forms of intellectual property rights
that can be used to protect software against unwanted copying/modification:</p><ul><li>Copyright</li><li>Patents</li></ul><p>Copyright protects the &ldquo;expression of an idea&rdquo; and applies to the source code that gets written.
Copyright protection is granted automatically at the moment that the code is written.
Copyright protection means that only the author is allowed to make copies of or changes in the code,
unless the author explicitly gives this right also to others by means of a copyright license.</p><p>Patents protect inventions and need to be explicitly requested. When a patent has been granted to you,
you have the exclusive right to make use of that invention or to give a patent license to others.
Patents can be broader that copyrights, because if someone else makes the same invention that you have a patent on,
then you can force them to stop using the invention or to buy a patent license from you. With copyright, however,
it is possible that multiple people independently write very similar code and each has their own copyright protection.</p><p><a href=https://opensource.stackexchange.com/questions/6302/what-does-express-grant-of-patent-rights-from-contributors-to-users-mean>source</a></p></div><ul><li><a href=https://www.apache.org/licenses/LICENSE-2.0.txt>Apache 2.0</a> —
one of the most popular open source license used by <a href=https://www.cncf.io/>CNCF</a> and <a href=https://www.apache.org/licenses/>Apache Foundation</a>.
Longer than MIT, but covers also patent rights.</li></ul><h4 id=recommended-license-for-common-cases>Recommended license for common cases</h4><p>By default we offer you to use a
<abbr data-toggle=tooltip title="It means everybody can distribute your code with the closed proprietary products.">non copyleft</abbr>
open source license – <a href=https://www.apache.org/licenses/LICENSE-2.0.txt>Apache 2.0</a>.</p><div class="alert alert-primary" role=alert><h4 class=alert-heading>Apache License 2.0</h4><p>A permissive license whose main conditions require preservation of copyright and license notices.
Contributors provide an express grant of patent rights.
Licensed works, modifications, and larger works may be distributed under different terms and without source code.</p><p><img src=/images/apache_license.jpg alt="Apache License"></p><p><a href=https://choosealicense.com/licenses/apache-2.0/>source</a></p></div><h4 id=placing-the-license-information>Placing the license information</h4><ul><li>Each code file should have copyright notice on the top.</li></ul><pre><code>/*
 * Copyright 2020 LLC Leroy Merlin Vostok.
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package ru.leroymerlin.delivery.tariff.convert;
</code></pre><ul><li><code>README.md</code> should mention the license used.</li></ul><pre><code>## License

This repository is released under version 2.0 of the 
[Apache License](https://www.apache.org/licenses/LICENSE-2.0).
</code></pre><ul><li><code>LICENSE</code> file in the root should have <a href=https://www.apache.org/licenses/LICENSE-2.0.txt>complete text</a> of the license.</li></ul><h3 id=step-3-check-compatibility-of-third-party-dependencies>Step 3. Check compatibility of third-party dependencies.</h3><p>Third-party component licenses may force to use a particular license for the whole project.
It is mandatory to check license compatibility between components and between component and project license.</p><table><thead><tr><th>Third Party License Type</th><th>Examples</th><th>Actions Required</th></tr></thead><tbody><tr><td><strong>Permissive</strong></td><td><code>Apache</code> <code>BSD</code> <code>MIT</code></td><td>None</td></tr><tr><td><strong>Copyleft</strong></td><td><code>GPL</code> <code>LGPL</code> <code>AGPL</code></td><td><abbr data-toggle=tooltip title="Ensure that its intial license allows its redistribution under the licence selected by the project or alongside the other third-party components governed by a possibly different license.">Check compatibility</abbr></td></tr><tr><td><strong>Unidentified</strong></td><td></td><td>Delete or replace component</td></tr><tr><td><strong>Proprietary</strong></td><td><code>Commercial</code></td><td>Delete or replace component</td></tr><tr><td><strong>Requires accepting another agreement</strong><br>alongside the open source license</td><td><code>CLA</code> <code>CAA</code></td><td>Accept the agreement<br>or delete or replace component</td></tr></tbody></table><h2 id=all-steps-have-been-passed>All Steps Have Been Passed</h2><p>Congratulations! You may open source the project. <i class="fa fa-glass-cheers"></i></p><p>For doing that you need to announce your willing at the CI/CD slack channel
and let your colleagues add the repository to the allowlist of <code>prevent-public-repos</code> script.</p><p>After that, you can make repository public in the settings of the repository.</p><div class="text-muted mt-5 pt-3 border-top">Last modified March 24, 2021: <a href=https://github.com/adeo/lmru--tech/commit/a0f2bee3d174044e4722874ffa1ab9ba1ccb6ea9>rename labs to knowledge (a0f2bee)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Licensed under a Creative Commons Attribution-ShareAlike 4.0 International License" aria-label="Licensed under a Creative Commons Attribution-ShareAlike 4.0 International License"><a class=text-white target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/><i class="fab fa-creative-commons-sa"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/adeo><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://adeo-tech-community.slack.com><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Jobs aria-label=Jobs><a class=text-white target=_blank href="https://hh.ru/search/vacancy?text=%D0%9B%D0%B5%D1%80%D1%83%D0%B0%20%D0%9C%D0%B5%D1%80%D0%BB%D0%B5%D0%BD&search_field=company_name&specialization=1"><i class="fa fa-building"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 Leroy Merlin Vostok LLC All Rights Reserved</small></div></div></div></footer></div><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js integrity="sha256-x3YZWtRjM8bJqf48dFAv/qmgL68SI4jqNWeSLMZaMGA=" crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js integrity="sha256-OFRAJNoaD8L3Br5lglV7VyLRf0itmoBzWUoM+Sji4/8=" crossorigin=anonymous></script><script src=/js/main.min.7b3c702de0bade0fe589cfa4243a38d358d7c1b6998d2545cbfff738ac402767.js integrity="sha256-ezxwLeC63g/lic+kJDo401jXwbaZjSVFy//3OKxAJ2c=" crossorigin=anonymous></script><script>$('#youmax').youmax({apiKey:'AIzaSyAc7Z4PtwiyQzntMScG533kmdoBMuH5FAI',youTubeChannelURL:"https://www.youtube.com/channel/UCIqfZ4wqEoC6x6x-zyPCL8g",youmaxDefaultTab:"UPLOADS",youmaxColumns:4,showVideoInLightbox:false,maxResults:8,});</script><script src=/bundle/rss-parser.min.js></script><script>var habr=$("#habr");let parser=new RSSParser();parser.parseURL('https://jsonp.afeld.me/?url=https://habr.com/ru/rss/company/leroy_merlin/blog/?fl=ru&mobile=no',function(err,feed){if(err)throw err;var i;for(i=0;i<5;i++){var item=feed.items[i];var itemDate=new Date(item.pubDate).toLocaleString('ru',{year:'numeric',month:'long',day:'numeric'});var itemHtml='<div class="card promoting-card"> \
                                <div class="card-body d-flex flex-row"><img src="/images/habr.png" class="rounded-circle mr-3" height="50px" width="50px" alt="avatar"><div> \
                                <a target="_blank" href="'+item.link+'"><h4 class="card-title font-weight-bold mb-2">'+item.title+'</h4></a> \
                                <p class="card-text"><i class="fa fa-user pr-1"></i> '+item.creator+'<i class="fa fa-clock pl-3 pr-1"></i>'+itemDate+'</p> \
                                <p class="habrText">'+item.contentSnippet.substring(0,250)+'…</p> \
                                </div></div> \
                                </div>';habr.html(habr.html()+itemHtml);}})</script></body></html>