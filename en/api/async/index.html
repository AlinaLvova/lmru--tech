<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.69.2"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Asynchronous Design Principles | Leroy Merlin Tech</title><meta property="og:title" content="Asynchronous Design Principles"><meta property="og:description" content="There are two technologies are supported in the company for cross-product async communication.
Kafka  RabbitMQ   Comfort speed
Acknowledgment
Multiple read
Routing
Message priority
Model
Broker scaling
Client scaling
 100 rps




Pull
Horizontal
Scale the number of topic partitions
 20 rps




Push
Vertical but why?
Scale the number of consumers
  Use cases
  Data analysis: tracking, ingestion, logging, security."><meta property="og:type" content="article"><meta property="og:url" content="/en/api/async/"><meta property="og:image" content="https://tech.leroymerlin.ru/images/leroy-merlin-tech.jpg"><meta property="article:modified_time" content="2020-06-16T13:40:18+03:00"><meta property="og:site_name" content="Leroy Merlin Tech"><meta itemprop=name content="Asynchronous Design Principles"><meta itemprop=description content="There are two technologies are supported in the company for cross-product async communication.
Kafka  RabbitMQ   Comfort speed
Acknowledgment
Multiple read
Routing
Message priority
Model
Broker scaling
Client scaling
 100 rps




Pull
Horizontal
Scale the number of topic partitions
 20 rps




Push
Vertical but why?
Scale the number of consumers
  Use cases
  Data analysis: tracking, ingestion, logging, security."><meta itemprop=dateModified content="2020-06-16T13:40:18+03:00"><meta itemprop=wordCount content="341"><meta itemprop=image content="https://tech.leroymerlin.ru/images/leroy-merlin-tech.jpg"><meta itemprop=keywords content><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://tech.leroymerlin.ru/images/leroy-merlin-tech.jpg"><meta name=twitter:title content="Asynchronous Design Principles"><meta name=twitter:description content="There are two technologies are supported in the company for cross-product async communication.
Kafka  RabbitMQ   Comfort speed
Acknowledgment
Multiple read
Routing
Message priority
Model
Broker scaling
Client scaling
 100 rps




Pull
Horizontal
Scale the number of topic partitions
 20 rps




Push
Vertical but why?
Scale the number of consumers
  Use cases
  Data analysis: tracking, ingestion, logging, security."><script type=application/javascript>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-TWVZ2P9');</script><link rel=preload href=/scss/main.min.bf62c909eca28eb2073982199c0ee6550fc091dbddd06097e2a4cfeffa81e5e7.css as=style><link href=/scss/main.min.bf62c909eca28eb2073982199c0ee6550fc091dbddd06097e2a4cfeffa81e5e7.css rel=stylesheet integrity></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/en/><span class=navbar-logo><svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg"><path d="m475.65 371.26-472.26.14 235.93-243.18 118.17 121.52z" fill="#fff"/><path d="m239.38 226.59-122.7 125.91H360.8z" fill="#7bb51c"/><path d="M84.613 317.218l27.407 29.124 19.007-19.27-6.364-6.687L112.7 332.44 91.657 310.1zm22.9-23.228 27.662 28.772 19.516-19.798-5.346-5.63-12.388 12.494-5.94-6.335 9.928-10.03-5.6-5.895-9.928 10.03-5.1-5.455L132.3 280l-5.346-5.63zm91.47-64.76c-7.9-8.36-21.468-7.4-28.086-.704-6.534 6.687-9.928 19.886-.68 29.74 10.182 10.823 22.316 6.863 28.85.264 9.758-9.767 6.28-22.525-.085-29.3zm-5.77 23.58c-4.327 4.4-9.673 3.168-15.698-3.256-5.1-5.455-4.837-10.9-1.103-14.606 2.546-2.552 7.722-4.927 13.916 1.672 6.958 7.48 7.212 11.8 2.885 16.2zm24.013-35.372-6.45-27.98-8.23 8.36 4.243 15.838-14.425-5.543-7.806 7.83 24.692 8.27 11.625 11.967 7.212-7.303zm-34.705 57.545s-17.48-6.16-18.328-6.07c-.255.088 3.733-11.087-5.26-16.014.0.0-6.703-3.784-13.407 2.552l-14.34 14.694 27.577 28.86 7.297-7.4-14.934-15.838 24.183 6.6zm-27.068-3.96c-4.073 4.135-4.582 4.4-4.582 4.4l-6.618-7.04c-.255-.264 4.582-4.487 5.346-5.28.34-.352 3.3-2.376 5.77.264-.085.088 4.158 3.52.085 7.655zm68.816-70.127 9.42-20.853L218.68 195l-6.364-6.687 27.83-28.684 9.164 9.503-10.097 20.5 20.534-9.6 8.74 9.24-27.83 28.684-6.788-7.04 14.764-15.134-20.195 9.415zm48.535 38.804-5.685 5.895-19.346-20.237 27.916-28.684L295.046 217l-5.6 5.807-12.22-12.758-4.497 4.663 9.588 10.03-5.855 6.07-9.588-9.943-6.024 6.247zm30.207 43.466 27.83-28.772 7.212 7.567-21.128 21.733 11.794 12.318-6.788 6.95zm58.878 3.73-27.893 28.688-7-7.3 27.893-28.688zm-21.713 35.16 27.916-28.772 9.503 10.03-8.146 29.74 18.498-19.006 6.364 6.687-27.916 28.684-8.315-8.7 7.212-31.236-18.583 19.446zm-21.89-80.774-16.97-17.686-27.916 28.596 7.212 7.48 15.273-15.662-5.515 25.87 7.382 7.655 5.94-19.27s6.28 3.608 13.152-2.552c0 0 6.618-6.687 1.442-14.43zm-10.352 8.36s-3.564 2.464-6.703-.792l-4.92-5.367 6.703-6.863 5.176 5.367c.5.616 4.073 3.432-.255 7.655z"/></svg></span><span class="text-uppercase font-weight-bold">Leroy Merlin Tech</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/en/values/><span>Our Values</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/en/stack/><span>Stack</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/en/opensource/><span>Open Source</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/en/api/><span class=active>API</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/api/async/>Русский</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/api/async/>Русский</a></div></div><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/en/api/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">API</a></li><ul><li class="collapse show" id=enapi><a class="td-sidebar-link td-sidebar-link__page" id=m-enapisync href=/en/api/sync/>Synchronous Design Principles</a>
<a class="td-sidebar-link td-sidebar-link__page active" id=m-enapiasync href=/en/api/async/>Asynchronous Design Principles</a></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/adeo/lmru--tech/edit/master/content/en/api/async.md target=_blank><i class="fa fa-edit fa-fw"></i>Edit page</a>
<a href="https://github.com/adeo/lmru--tech/issues/new?title=Asynchronous%20Design%20Principles" target=_blank><i class="fab fa-github fa-fw"></i>Offer an improvement</a></div><nav id=TableOfContents><ul><li><a href=#general-rules>General rules</a></li><li><a href=#naming-conventions>Naming conventions</a><ul><li><a href=#kafka-topic>Kafka Topic</a></li><li><a href=#rabbitmq-exchange>RabbitMQ Exchange</a></li><li><a href=#rabbitmq-queue>RabbitMQ Queue</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=/en/api/>API</a></li><li class="breadcrumb-item active" aria-current=page><a href=/en/api/async/>Asynchronous Design Principles</a></li></ol></nav><div class=td-content><h1>Asynchronous Design Principles</h1><p>There are two technologies are supported in the company for cross-product async communication.</p><div class="row mb-2 mt-4"><div class="offset-2 col-5 text-center"><img src=../kafka.png alt="Kafka logo" style=height:100px><h3 class="h3 mt-3">Kafka</h4></div><div class="col-5 text-center"><img src=../rabbitmq.png alt="RabbitMQ logo" style=height:100px><h3 class="h3 mt-3">RabbitMQ</h4></div></div><div class="row mb-4 mt-2"><div class="col-2 text-right"><p><b class=text-nowrap>Comfort speed</b></p><p><b class=text-nowrap>Acknowledgment</b></p><p><b class=text-nowrap>Multiple read</b></p><p><b class=text-nowrap>Routing</b></p><p><b class=text-nowrap>Message priority</b></p><p><b class=text-nowrap>Model</b></p><p><b class=text-nowrap>Broker scaling</b></p><p><b class=text-nowrap>Client scaling</b></p></div><div class="col-5 text-center"><p>100 rps</p><p><i class="fa fa-check"></i></p><p><i class="fa fa-check"></i></p><p><i class="fa fa-minus"></i></p><p><i class="fa fa-minus"></i></p><p><abbr data-toggle=tooltip title="Consumers request batches of messages from a given offset.">Pull</abbr></p><p>Horizontal</p><p>Scale the number of topic partitions</p></div><div class="col-5 text-center"><p>20 rps</p><p><i class="fa fa-check"></i></p><p><i class="fa fa-minus"></i></p><p><i class="fa fa-check"></i></p><p><i class="fa fa-check"></i></p><p><abbr data-toggle=tooltip title="Messages are pushed from RabbitMQ to the consumer.">Push</abbr></p><p>Vertical <sup><abbr data-toggle=tooltip title="Yes, all our RabbitMQ clusters scalled horizontally. However, rabbit uses a lot of resources for coordination and further scaling will be more efficient through increasing resources on nodes.">but why?</abbr></sup></p><p>Scale the number of consumers</p></div></div><div class="row mb-4 mt-2"><div class="col-2 text-right"><p><b class=text-nowrap>Use cases</b></p></div><div class=col-5><ul><li>Data analysis: tracking, ingestion, logging, security.</li><li>Real-time processing: many producers with a small number of consumers.</li><li>Event Sourcing: modeling changes to a system as a sequence of events.</li></ul></div><div class=col-5><ul><li>Complex routing to consumers.</li><li>Communication between microservices.</li><li>Application supports only legacy protocols such as STOMP, MQTT and others.</li></ul></div></div><h2 id=general-rules>General rules</h2><p>Each product team have their own instance of message broker.
The system that publishes data is responsible for this instance.</p><p>All data needed for several systems should be sent through <abbr data-toggle=tooltip title="Agnostic for business processes & consumption and minimalistic APIs created for multiple consumers.">canonical</abbr> topics or exchanges. Each canonical topics, exchanges and queues must be tied to the domain by specifying the <abbr data-toggle=tooltip title="products, services, stocks, prices, offers, orders, customers, partners, company, locations, finance or technical">canonical domain</abbr> in the name.</p><p>Sending directly to the RabbitMQ queue prohibited: use exchange instead.</p><h2 id=naming-conventions>Naming conventions</h2><p>Use <em>camelCase</em> for all fields.</p><h3 id=kafka-topic>Kafka Topic</h3><pre><code>[app]-[type]-[int/ext]-[domain]-[object]-[version]
</code></pre><ul><li><code>app</code> the name of the application that publishes</li><li><code>type</code><ul><li><code>system</code> an internal topic for the product team/application</li><li><code>init</code> a topic for the full extraction data and not used for the daily integration <sup><abbr data-toggle=tooltip title="Upload data to the new application or restore historical data for an application that crashed.">examples</abbr></sup></li><li><code>canonical</code> a topic for the publication <abbr data-toggle=tooltip title="Agnostic for business processes & consumption and minimalistic APIs created for multiple consumers.">canonical</abbr> data</li></ul></li><li><code>int/ext</code> <em>int</em> topic is used internally, <em>ext</em> topic is used to publish on the Internet</li><li><code>domain</code> <abbr data-toggle=tooltip title="products, services, stocks, prices, offers, orders, customers, partners, company, locations, finance or technical">canonical domain</abbr></li><li><code>object</code> data transmitted through this topic <sup><abbr data-toggle=tooltip title="fulfillmentTask, shipment, paymentTask">examples</abbr></sup></li><li><code>version</code> version of the topic</li></ul><div class="alert alert-success" role=alert><h4 class=alert-heading>Example</h4><code>crm-canonical-int-customers-organization-v9</code></div><h3 id=rabbitmq-exchange>RabbitMQ Exchange</h3><pre><code>[app]-[type]-x-[domain]-[object]-[version]
</code></pre><ul><li><code>app</code> name of the application that publishes</li><li><code>type</code><ul><li><code>tx</code> topic exchange.</li><li><code>fx</code> fanout exchange.</li><li><code>dx</code> direct exchange.</li><li><code>hx</code> headers exchange</li></ul></li><li><code>x</code> exchange</li><li><code>domain</code> <abbr data-toggle=tooltip title="products, services, stocks, prices, offers, orders, customers, partners, company, locations, finance or technical">canonical domain</abbr></li><li><code>object</code> data transmitted through this exchange <sup><abbr data-toggle=tooltip title="fulfillmentTask, shipment, paymentTask">examples</abbr></sup></li><li><code>version</code> version of the exchange</li></ul><div class="alert alert-success" role=alert><h4 class=alert-heading>Example</h4><code>paymentGateway-tx-x-orders-paymentTask-v1</code></div><h3 id=rabbitmq-queue>RabbitMQ Queue</h3><pre><code>[app]-[type]-q-[domain]-[object]-[filter]-[version]
</code></pre><ul><li><code>app</code> name of the application that subscribes</li><li><code>type</code><ul><li><code>tx</code> topic exchange.</li><li><code>fx</code> fanout exchange.</li><li><code>dx</code> direct exchange.</li><li><code>hx</code> headers exchange</li></ul></li><li><code>q</code> queue</li><li><code>domain</code> <abbr data-toggle=tooltip title="products, services, stocks, prices, offers, orders, customers, partners, company, locations, finance or technical">canonical domain</abbr></li><li><code>object</code> data transmitted through this queue <sup><abbr data-toggle=tooltip title="fulfillmentTask, shipment, paymentTask">examples</abbr></sup></li><li><code>filter</code> description of the filter for type: <code>tx</code>, <code>dx</code>, <code>hx</code> <sup><abbr data-toggle=tooltip title="created, updatedStatus, updatedStatusPaid">examples</abbr></sup></li><li><code>version</code> version of the queue</li></ul><div class="alert alert-success" role=alert><h4 class=alert-heading>Example</h4><code>solution-tx-q-orders-paymentTask-created-v2</code></div><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Did you find an answer to your question?</p><button class="feedback--answer feedback--answer-yes btn">Yes</button>
<button class="feedback--answer feedback--answer-no btn">No</button><p class="feedback--response feedback--response-yes">Great :) Please <a href=https://github.com/adeo/lmru--tech/issues/new target=_blank>tell us</a> how we can improve.</p><p class="feedback--response feedback--response-no">Sorry to hear that :( Please <a href=https://github.com/adeo/lmru--tech/issues/new target=_blank>tell us</a> the question you had.</p><div class=toast id=emotions style=position:fixed;bottom:50px;right:250px><div class=toast-header><strong class=mr-auto>Thanks for feedback!</strong>
<button type=button class="ml-2 mb-1 close" data-dismiss=toast aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=toast-body>We will analyze results. Also, you can <a href="https://github.com/adeo/lmru--tech/issues/new?title=">advice changes</a>.</div></div><script>const yesButton=document.querySelector('.feedback--answer-yes');const noButton=document.querySelector('.feedback--answer-no');const yesResponse=document.querySelector('.feedback--response-yes');const noResponse=document.querySelector('.feedback--response-no');const disableButtons=()=>{yesButton.disabled=true;noButton.disabled=true;};const sendFeedback=(value)=>{dataLayer.push({'event':'LeroyMerlin_new','eventAction':'click','eventCategory':'Interactions','eventLabel':'emotions','eventLocation':document.location.pathname,'eventContent':value,'eventContext':'Полезность'});};yesButton.addEventListener('click',()=>{yesResponse.classList.add('feedback--response__visible');disableButtons();sendFeedback('Yes');});noButton.addEventListener('click',()=>{noResponse.classList.add('feedback--response__visible');disableButtons();sendFeedback('No');});</script><br><div class="text-muted mt-5 pt-3 border-top">Last modified June 16, 2020: <a href=https://github.com/adeo/lmru--tech/commit/6bc26042a5f95ec6055f6e887ef3df3028964147>async v1 (6bc2604)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Licensed under a Creative Commons Attribution-ShareAlike 4.0 International License" aria-label="Licensed under a Creative Commons Attribution-ShareAlike 4.0 International License"><a class=text-white target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/><i class="fab fa-creative-commons-sa"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/adeo><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://adeo-tech-community.slack.com><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Jobs aria-label=Jobs><a class=text-white target=_blank href="https://hh.ru/search/vacancy?text=%D0%9B%D0%B5%D1%80%D1%83%D0%B0%20%D0%9C%D0%B5%D1%80%D0%BB%D0%B5%D0%BD&search_field=company_name&specialization=1"><i class="fa fa-building"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2020 Leroy Merlin Vostok LLC All Rights Reserved</small></div></div></div></footer></div><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js integrity="sha256-x3YZWtRjM8bJqf48dFAv/qmgL68SI4jqNWeSLMZaMGA=" crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js integrity="sha256-OFRAJNoaD8L3Br5lglV7VyLRf0itmoBzWUoM+Sji4/8=" crossorigin=anonymous></script><script src=/js/main.min.fa7a47f5abcef5e35838a70492d685b1c5a6185f04214d899f4569a8204f559b.js integrity="sha256-+npH9avO9eNYOKcEktaFscWmGF8EIU2Jn0VpqCBPVZs=" crossorigin=anonymous></script><script>$('#youmax').youmax({apiKey:'AIzaSyAc7Z4PtwiyQzntMScG533kmdoBMuH5FAI',youTubeChannelURL:"https://www.youtube.com/channel/UCIqfZ4wqEoC6x6x-zyPCL8g",youmaxDefaultTab:"UPLOADS",youmaxColumns:4,showVideoInLightbox:false,maxResults:8,});</script><script src=/bundle/rss-parser.min.js></script><script>var habr=$("#habr");let parser=new RSSParser();parser.parseURL('https://cors-anywhere.herokuapp.com/https://habr.com/ru/rss/company/leroy_merlin/blog/?fl=ru&mobile=no',function(err,feed){if(err)throw err;var i;for(i=0;i<5;i++){var item=feed.items[i];var itemDate=new Date(item.pubDate).toLocaleString('ru',{year:'numeric',month:'long',day:'numeric'});var itemHtml='<div class="card promoting-card"> \
                                <div class="card-body d-flex flex-row"><img src="/images/habr.png" class="rounded-circle mr-3" height="50px" width="50px" alt="avatar"><div> \
                                <a target="_blank" href="'+item.link+'"><h4 class="card-title font-weight-bold mb-2">'+item.title+'</h4></a> \
                                <p class="card-text"><i class="fa fa-user pr-1"></i> '+item.creator+'<i class="fa fa-clock pl-3 pr-1"></i>'+itemDate+'</p> \
                                <p>'+item.contentSnippet.substring(0,250)+'…</p> \
                                </div></div> \
                                </div>';habr.html(habr.html()+itemHtml);}})</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWVZ2P9" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript></body></html>