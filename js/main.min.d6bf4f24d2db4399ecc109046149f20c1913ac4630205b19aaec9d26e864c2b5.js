(function($){'use strict';$(function(){$('[data-toggle="tooltip"]').tooltip();$('[data-toggle="popover"]').popover();$('.toast').toast({'delay':3000});$('.popover-dismiss').popover({trigger:'focus'})
$("body").on("click",".glossary-close",function(){$('.glossary').popover('hide');});$('.glossary').click(function(){$('.glossary').popover('hide');}).popover({content:function(){return $(this).siblings('.glossary-text').html();},trigger:'click',animation:false,placement:'bottom',html:true,template:'<div class="popover" role="tooltip"><div class="arrow"></div><i class="fa fa-times-circle glossary-close"></i><h3 class="popover-header"></h3><div class="popover-body"></div></div>'});});function bottomPos(element){return element.offset().top+element.outerHeight();}
$(function(){var promo=$(".js-td-cover");if(!promo.length){return}
var promoOffset=bottomPos(promo);var navbarOffset=$('.js-navbar-scroll').offset().top;var threshold=Math.ceil($('.js-navbar-scroll').outerHeight());if((promoOffset-navbarOffset)<threshold){$('.js-navbar-scroll').addClass('navbar-bg-onscroll');}
$(window).on('scroll',function(){var navtop=$('.js-navbar-scroll').offset().top-$(window).scrollTop();var promoOffset=bottomPos($('.js-td-cover'));var navbarOffset=$('.js-navbar-scroll').offset().top;if((promoOffset-navbarOffset)<threshold){$('.js-navbar-scroll').addClass('navbar-bg-onscroll');}else{$('.js-navbar-scroll').removeClass('navbar-bg-onscroll');$('.js-navbar-scroll').addClass('navbar-bg-onscroll--fade');}});});}(jQuery));function setCookie(name,value,days){var expires="";if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires="; expires="+date.toUTCString();}
document.cookie=name+"="+(value||"")+expires+"; path=/";}
function getCookie(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length);}
return null;}
(function(){var getFirstBrowserLanguage=function(){var nav=window.navigator,browserLanguagePropertyKeys=['language','browserLanguage','systemLanguage','userLanguage'],i,language
if(Array.isArray(nav.languages)){for(i=0;i<nav.languages.length;i++){language=nav.languages[i]
if(language&&language.length){return language}}}
for(i=0;i<browserLanguagePropertyKeys.length;i++){language=nav[browserLanguagePropertyKeys[i]]
if(language&&language.length){return language}}
return 'en'}
var preferLang=getFirstBrowserLanguage()
if(window.location.pathname=='/'&&!getCookie("redirected")&&preferLang.indexOf('ru')==-1){setCookie("redirected",true,365);window.location.replace('/en/');}})();(function($){'use strict';$(function(){var article=document.getElementsByTagName('main')[0];if(!article){return;}
var headings=article.querySelectorAll('h1, h2, h3, h4, h5, h6');headings.forEach(function(heading){if(heading.id){var a=document.createElement('a');a.style.visibility='hidden';a.setAttribute('aria-hidden','true');a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg>';a.href='#'+heading.id;heading.insertAdjacentElement('beforeend',a);heading.addEventListener('mouseenter',function(){a.style.visibility='initial';});heading.addEventListener('mouseleave',function(){a.style.visibility='hidden';});if(location.href.match(/\/values\//)&&heading.tagName=="H3"&&!getCookie(heading.id)){var b=document.createElement('b');var c=document.createElement('b');b.style.visibility='hidden';c.style.visibility='hidden';b.style.cursor='pointer';c.style.cursor='pointer';b.setAttribute('aria-hidden','true');c.setAttribute('aria-hidden','true');$(b).tooltip({'title':'–ü–æ–ª–µ–∑–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é','placement':'bottom'});$(c).tooltip({'title':'–ë–µ—Å–ø–æ–ª–µ–∑–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å, –¥–∞–≤–∞–π—Ç–µ –≤—ã–ø–∏–ª–∏–º','placement':'bottom'});b.classList.add("ml-2")
c.classList.add("ml-1")
b.classList.add("reactions")
c.classList.add("reactions")
b.innerHTML='üî•';c.innerHTML='üí©';b.addEventListener('click',function(){$('#emotions').toast('show');$('#'+heading.id+' b').hide();setCookie(heading.id,"Yes",365);gtag('event','feedback',{'eventLabel':'emotions','eventLocation':document.location.pathname,'eventContent':'Yes','eventContext':heading.id});})
c.addEventListener('click',function(){$('#emotions').toast('show');$('#'+heading.id+' b').hide();setCookie(heading.id,"No",365);gtag('event','feedback',{'eventLabel':'emotions','eventLocation':document.location.pathname,'eventContent':'No','eventContext':heading.id});})
heading.insertAdjacentElement('beforeend',b);heading.insertAdjacentElement('beforeend',c);heading.addEventListener('mouseenter',function(){b.style.visibility='initial';c.style.visibility='initial';});heading.addEventListener('mouseleave',function(){b.style.visibility='hidden';c.style.visibility='hidden';});}}});});}(jQuery));;(function($){'use strict';var Search={init:function(){$(document).ready(function(){$(document).on('keypress','.td-search-input',function(e){if(e.keyCode!==13){return}
var query=$(this).val();var searchPage="/search/?q="+query;document.location=searchPage;return false;});});},};Search.init();}(jQuery));;var youmax_global_options={};(function($){var secondsToTime=function(duration){if(null==duration||duration==""||duration=="undefined")
return "?";var minutes=Math.floor(duration/60);var seconds=duration%60;if(seconds<10)
seconds="0"+seconds;var time=minutes+":"+seconds;return time;},convertDuration=function(videoDuration){var duration,returnDuration;videoDuration=videoDuration.replace('PT','').replace('S','').replace('M',':').replace('H',':');var videoDurationSplit=videoDuration.split(':');returnDuration=videoDurationSplit[0];for(var i=1;i<videoDurationSplit.length;i++){duration=videoDurationSplit[i];if(duration==""){returnDuration+=":00";}else{duration=parseInt(duration,10);if(duration<10){returnDuration+=":0"+duration;}else{returnDuration+=":"+duration;}}}
if(videoDurationSplit.length==1){returnDuration="0:"+returnDuration;}
return returnDuration;},getDateDiff=function(timestamp){if(null==timestamp||timestamp==""||timestamp=="undefined")
return "?";var splitDate=((timestamp.toString().split('T'))[0]).split('-');var d1=new Date();var d1Y=d1.getFullYear();var d2Y=parseInt(splitDate[0],10);var d1M=d1.getMonth();var d2M=parseInt(splitDate[1],10);var diffInMonths=(d1M+12*d1Y)-(d2M+12*d2Y);if(diffInMonths<=1)
return "1 –º–µ—Å. ";else if(diffInMonths<12)
return diffInMonths+" –º–µ—Å. ";var diffInYears=Math.floor(diffInMonths/12);if(diffInYears<=1)
return "1 –≥–æ–¥";else if(diffInYears<12)
return diffInYears+" –ª–µ—Ç";},getReadableNumber=function(number){if(null==number||number==""||number=="undefined")
return "?";number=number.toString();var readableNumber='';var count=0;for(var k=number.length;k>=0;k--){readableNumber+=number.charAt(k);if(count==3&&k>0){count=1;readableNumber+=',';}else{count++;}}
return readableNumber.split("").reverse().join("");},loadYoumax=function(){ym=$('#youmax');youmaxWidgetWidth=ym.width();ym.append('<div id="youmax-header"><div id="youmax-stat-holder"></div></div>');ym.append('<div id="youmax-tabs"><!--<span id="featured_" class="youmax-tab">Featured</span>--><span id="uploads_" class="youmax-tab d-none"></span><!--<span id="playlists_" class="youmax-tab">Playlists</span></div>-->');ym.append('<div id="youmax-encloser"><iframe id="youmax-video" width="'+(youmaxWidgetWidth-2)+'" height="'+(youmaxWidgetWidth/youmax_global_options.youtubeVideoAspectRatio)+'" src="" frameborder="0" allowfullscreen></iframe><div id="youmax-video-list-div" class="row"></div></div>');ym.append('<div class="text-center pb-4 pt-4"><a class="btn btn-lg btn-light" target="_blank" href="https://www.youtube.com/channel/UCIqfZ4wqEoC6x6x-zyPCL8g">–ë–æ–ª—å—à–µ –≤–∏–¥–µ–æ</a></div>')
$('#youmax-video').hide();ym.append('<div id="youmax-lightbox"><div style="width:100%; position:absolute; top:20%;"><iframe id="youmax-video-lightbox" width="640" height="360" src="" frameborder="0" allowfullscreen></iframe></div></div>');$('#youmax-lightbox').hide();},getChannelId=function(apiUrl){$.ajax({url:apiUrl,type:"GET",async:true,cache:true,dataType:'jsonp',success:function(response){youmaxChannelId=response.items[0].id
getChannelDetails(youmaxChannelId);},error:function(html){alert(html);},beforeSend:setHeader});},getChannelDetails=function(channelId){var apiProfileURL="https://www.googleapis.com/youtube/v3/channels?part=brandingSettings%2Csnippet%2Cstatistics%2CcontentDetails&id="+channelId+"&key="+youmax_global_options.apiKey;$.ajax({url:apiProfileURL,type:"GET",async:true,cache:true,dataType:'jsonp',success:function(response){showInfo(response);},error:function(html){alert(html);},beforeSend:setHeader});},setHeader=function(xhr){if(xhr&&xhr.overrideMimeType){xhr.overrideMimeType("application/j-son;charset=UTF-8");}},showLoader=function(){youmax_global_options.youmaxItemCount=0;$('#youmax-video-list-div').empty();$('#youmax-video').hide();$('#youmax-video').attr('src','');$('#youmax-video-list-div').append('<div style="height:200px; font:14px;"><br><br><br><br><br><br>–∑–∞–≥—Ä—É–∑–∫–∞...</div>');},initFeaturedVideos=function(){youTubePlaylistURL=youmax_global_options.youTubePlaylistURL;console.log('inside init featured - '+youTubePlaylistURL);if(null!=youTubePlaylistURL&&youTubePlaylistURL.indexOf("youtube.com/playlist?list=")!=-1){youmaxFeaturedPlaylistId=youTubePlaylistURL.substring(youTubePlaylistURL.indexOf("?list=")+6);youmax_global_options.youmaxFeaturedPlaylistId=youmaxFeaturedPlaylistId;}},showInfo=function(response){console.log('showInfo');console.log(response);var channelData=response.items[0];var channelId=channelData.id;var channelName=channelData.snippet.title;var channelPic=channelData.snippet.thumbnails.default.url;var channelSubscribers=channelData.statistics.subscriberCount;var channelViews=channelData.statistics.viewCount;var channelDesc="";var channelUploadsPlaylistId=channelData.contentDetails.relatedPlaylists.uploads;$('#youmax-header').append('<a href="'+youTubeChannelURL+'" target="_blank"><img id="youmax-header-logo" src="'+channelPic+'"/>'+channelName+'</a>');$('#youmax-header').append('<div class="youmax-subscribe"><div class="g-ytsubscribe" data-channelid="'+channelId+'" data-layout="default" data-count="default"></div></div>');renderSubscribeButton();$('#youmax-tabs').find('span[id^=uploads_]').attr('id','uploads_'+channelUploadsPlaylistId);youmaxDefaultTab=youmax_global_options.youmaxDefaultTab;if(typeof youmaxDefaultTab==='undefined'||null==youmaxDefaultTab||youmaxDefaultTab==""||youmaxDefaultTab=="undefined"){$("#youmax-tabs span[id^=featured_]").click();}else if(youmaxDefaultTab.toUpperCase()=='UPLOADS'||youmaxDefaultTab.toUpperCase()=='UPLOAD'){$("#youmax-tabs span[id^=uploads_]").click();}else if(youmaxDefaultTab.toUpperCase()=='PLAYLISTS'||youmaxDefaultTab.toUpperCase()=='PLAYLIST'){$("#youmax-tabs span[id^=playlists_]").click();}else if(youmaxDefaultTab.toUpperCase()=='FEATURED'||youmaxDefaultTab.toUpperCase()=='FEATURED'){$("#youmax-tabs span[id^=featured_]").click();}},renderSubscribeButton=function(){$.ajaxSetup({cache:true});$.getScript("https://apis.google.com/js/platform.js").done(function(script,textStatus){}).fail(function(jqxhr,settings,exception){});},showPlaylists=function(response,loadMoreFlag){console.log(response);if(!loadMoreFlag){$('#youmax-video-list-div').empty();}
var nextPageToken=response.nextPageToken;if(null!=nextPageToken&&nextPageToken!="undefined"&&nextPageToken!=""){$youmaxLoadMoreDiv.data('nextpagetoken',nextPageToken);}else{$youmaxLoadMoreDiv.data('nextpagetoken','');}
youmaxColumns=youmax_global_options.youmaxColumns;var playlistArray=response.items;var playlistIdArray=[];var zeroPlaylistCompensation=0;for(var i=0;i<playlistArray.length;i++){playListId=playlistArray[i].id;playlistSize=playlistArray[i].contentDetails.itemCount;if(playlistSize<=0){zeroPlaylistCompensation++;continue;}
playlistIdArray.push(playListId);playlistTitle=playlistArray[i].snippet.title;playlistUploaded=playlistArray[i].snippet.publishedAt;playlistThumbnail=playlistArray[i].snippet.thumbnails.medium.url;$('#youmax-video-list-div').append('<div class="youmax-video-tnail-box" id="'+playListId+'"><div class="youmax-video-tnail" style="filter: progid:DXImageTransform.Microsoft.AlphaImageLoader( src=\''+playlistThumbnail+'\', sizingMethod=\'scale\'); background-image:url(\''+playlistThumbnail+'\')"><div class="youmax-playlist-sidebar" id="youmax-playlist-sidebar-'+playListId+'"><span class="youmax-playlist-video-count"><b>'+playlistSize+'</b><br/>VIDEOS</span></div></div><span class="youmax-video-list-title">'+playlistTitle+'</span><br/><span class="youmax-video-list-views">'+getDateDiff(playlistUploaded)+' –Ω–∞–∑–∞–¥</span></div>');}
youmax_global_options.youmaxItemCount+=playlistArray.length-zeroPlaylistCompensation;$('.youmax-video-tnail-box').click(function(){showLoader();playlistTitle=$(this).find(".youmax-video-list-title").text();getUploads("play_"+this.id,playlistTitle);});},showUploads=function(response,playlistTitle,loadMoreFlag){console.log(response);if(!loadMoreFlag){$('#youmax-video-list-div').empty();if(playlistTitle){$('.youmax-tab-hover').removeClass('youmax-tab-hover');$('#youmax-video-list-div').append('<span class="youmax-showing-title youmax-tab-hover" id="uploads_'+response.items[0].snippet.playlistId+'" style="max-width:100%;"><span class="youmax-showing">&nbsp;&nbsp;Showing playlist: </span>'+playlistTitle+'</span><br/>');}}
var nextPageToken=response.nextPageToken;var $youmaxLoadMoreDiv=$('#youmax-load-more-div');youmaxColumns=youmax_global_options.youmaxColumns;if(null!=nextPageToken&&nextPageToken!="undefined"&&nextPageToken!=""){$youmaxLoadMoreDiv.data('nextpagetoken',nextPageToken);}else{$youmaxLoadMoreDiv.data('nextpagetoken','');}
var uploadsArray=response.items;var videoIdArray=[];for(var i=0;i<uploadsArray.length;i++){videoId=uploadsArray[i].snippet.resourceId.videoId;videoTitle=uploadsArray[i].snippet.title;videoUploaded=uploadsArray[i].snippet.publishedAt;videoThumbnail=uploadsArray[i].snippet.thumbnails.medium.url;videoIdArray.push(videoId);$('#youmax-video-list-div').append('<div class="col-md-3 col-sm-6"><div class="youmax-video-tnail-box" id="'+videoId+'"><div class="youmax-video-tnail" style="filter: progid:DXImageTransform.Microsoft.AlphaImageLoader( src=\''+videoThumbnail+'\', sizingMethod=\'scale\'); background-image:url(\''+videoThumbnail+'\')"><div class="youmax-duration"></div></div><span class="youmax-video-list-title">'+videoTitle+'</span><br/><span class="youmax-video-list-views">'+getDateDiff(videoUploaded)+'–Ω–∞–∑–∞–¥</span></div></div>');}
youmax_global_options.youmaxItemCount+=uploadsArray.length;$('.youmax-video-tnail-box').click(function(){if(youmax_global_options.showVideoInLightbox){showVideoLightbox(this.id);}else{$('#youmax-video').attr('src','https://www.youtube.com/embed/'+this.id);$('#youmax-video').show();$('html,body').animate({scrollTop:$("#youmax-header").offset().top},'slow');}});getVideoStats(videoIdArray);},getVideoStats=function(videoIdList){apiVideoStatURL="https://www.googleapis.com/youtube/v3/videos?part=statistics%2CcontentDetails&id="+videoIdList+"&key="+youmax_global_options.apiKey;$.ajax({url:apiVideoStatURL,type:"GET",async:true,cache:true,dataType:'jsonp',success:function(response){displayVideoStats(response);},error:function(html){alert(html);},beforeSend:setHeader});},displayVideoStats=function(response){var videoArray=response.items;var $videoThumbnail;for(var i=0;i<videoArray.length;i++){videoId=videoArray[i].id;videoViewCount=videoArray[i].statistics.viewCount;videoViewCount=getReadableNumber(videoViewCount);videoDuration=videoArray[i].contentDetails.duration;videoDuration=convertDuration(videoDuration);videoDefinition=videoArray[i].contentDetails.definition.toUpperCase();$videoThumbnail=$('#youmax-video-list-div #'+videoId);$videoThumbnail.find('.youmax-video-list-views').prepend(videoViewCount+' –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ | ');$videoThumbnail.find('.youmax-duration').append(videoDuration);}},getUploads=function(youmaxTabId,playlistTitle,nextPageToken){var pageTokenUrl="";var loadMoreFlag=false;if(null!=nextPageToken){pageTokenUrl="&pageToken="+nextPageToken;loadMoreFlag=true;}
var uploadsPlaylistId=youmaxTabId.substring(youmaxTabId.indexOf('_')+1);var apiUploadURL="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+uploadsPlaylistId+"&maxResults="+youmax_global_options.maxResults+pageTokenUrl+"&key="+youmax_global_options.apiKey;console.log('apiUploadURL-'+apiUploadURL);$.ajax({url:apiUploadURL,type:"GET",async:true,cache:true,dataType:'jsonp',success:function(response){showUploads(response,playlistTitle,loadMoreFlag);},error:function(html){alert(html);},beforeSend:setHeader});},getPlaylists=function(nextPageToken){var pageTokenUrl="";var loadMoreFlag=false;if(null!=nextPageToken){pageTokenUrl="&pageToken="+nextPageToken;loadMoreFlag=true;}
var apiChannelPlaylistsURL="https://www.googleapis.com/youtube/v3/playlists?part=contentDetails,snippet&channelId="+youmaxChannelId+"&maxResults="+youmax_global_options.maxResults+pageTokenUrl+"&key="+youmax_global_options.apiKey;$.ajax({url:apiChannelPlaylistsURL,type:"GET",async:true,cache:true,dataType:'jsonp',success:function(response){showPlaylists(response,loadMoreFlag);},error:function(html){alert(html);},beforeSend:setHeader});},showVideoLightbox=function(videoId){$('#youmax-lightbox').show();$('#youmax-video-lightbox').attr('src','http://www.youtube.com/embed/'+videoId);$('#youmax-lightbox').click(function(){$('#youmax-video-lightbox').attr('src','');$('#youmax-lightbox').hide();});},prepareYoumax=function(){$('#youmax').empty();loadYoumax();showLoader();$('.youmax-tab').click(function(){$('.youmax-tab-hover').removeClass('youmax-tab-hover');$(this).addClass('youmax-tab-hover');youmaxTabId=this.id;showLoader();if(youmaxTabId.indexOf("featured_")!=-1){getUploads('featured_'+youmax_global_options.youmaxFeaturedPlaylistId,null,null);}else if(youmaxTabId.indexOf("uploads_")!=-1){getUploads(youmaxTabId);}else if(youmaxTabId.indexOf("playlists_")!=-1){getPlaylists();}});youTubeChannelURL=youmax_global_options.youTubeChannelURL;if(youTubeChannelURL!=null){s=youTubeChannelURL.indexOf("/user/");if(s!=-1){userId=youTubeChannelURL.substring(s+6);apiUrl="https://www.googleapis.com/youtube/v3/channels?part=id&forUsername="+userId+"&key="+youmax_global_options.apiKey;getChannelId(apiUrl);}else{s=youTubeChannelURL.indexOf("/channel/");if(s!=-1){youmaxChannelId=youTubeChannelURL.substring(s+9);youmax_global_options.youmaxChannelId=youmaxChannelId;getChannelDetails(youmaxChannelId);}else{alert("Could Not Find Channel..");}}}}
$.fn.youmax=function(options){youmax_global_options.apiKey=options.apiKey;youmax_global_options.youTubeChannelURL=options.youTubeChannelURL||'';youmax_global_options.youTubePlaylistURL=options.youTubePlaylistURL||'';youmax_global_options.youmaxDefaultTab=options.youmaxDefaultTab||'FEATURED';youmax_global_options.youmaxColumns=options.youmaxColumns||3;youmax_global_options.showVideoInLightbox=options.showVideoInLightbox||false;youmax_global_options.youmaxChannelId='';youmax_global_options.maxResults=options.maxResults||15;youmax_global_options.youmaxItemCount=0;youmax_global_options.youtubeVideoAspectRatio=640/360;youmax_global_options.youtubeMqdefaultAspectRatio=300/180;initFeaturedVideos();prepareYoumax();};}(jQuery));