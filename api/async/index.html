<!doctype html><html lang=ru class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.69.2"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Принципы построения асинхронного API | Леруа Мерлен Tech</title><meta property="og:title" content="Принципы построения асинхронного API"><meta property="og:description" content="В компании используются две технологии для межпродуктового асинхронного взаимодействия.
Kafka  RabbitMQ   Комфортная скорость
Acknowledgment
Многоразовое чтение
Продвинутый роутинг
Приоритет сообщений
Модель
Скалирование брокера
Скалирование клиента
 100 rps




Пулл
Горизонтальное
Скалирование количества партиций топика
 20 rps




Пуш
Вертикальное как так?
Скалирование количества потребителей
  Кейсы использования
  Анализ данных: трекинг, поглощение данных, логгирование, аудит безопасности. Процессинг реального времени: множество продюссеров с небольшим количеством консьюмеров."><meta property="og:type" content="article"><meta property="og:url" content="/api/async/"><meta property="og:image" content="https://tech.leroymerlin.ru/images/leroy-merlin-tech.jpg"><meta property="article:modified_time" content="2020-07-07T14:04:58+03:00"><meta property="og:site_name" content="Леруа Мерлен Tech"><meta itemprop=name content="Принципы построения асинхронного API"><meta itemprop=description content="В компании используются две технологии для межпродуктового асинхронного взаимодействия.
Kafka  RabbitMQ   Комфортная скорость
Acknowledgment
Многоразовое чтение
Продвинутый роутинг
Приоритет сообщений
Модель
Скалирование брокера
Скалирование клиента
 100 rps




Пулл
Горизонтальное
Скалирование количества партиций топика
 20 rps




Пуш
Вертикальное как так?
Скалирование количества потребителей
  Кейсы использования
  Анализ данных: трекинг, поглощение данных, логгирование, аудит безопасности. Процессинг реального времени: множество продюссеров с небольшим количеством консьюмеров."><meta itemprop=dateModified content="2020-07-07T14:04:58+03:00"><meta itemprop=wordCount content="291"><meta itemprop=image content="https://tech.leroymerlin.ru/images/leroy-merlin-tech.jpg"><meta itemprop=keywords content><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://tech.leroymerlin.ru/images/leroy-merlin-tech.jpg"><meta name=twitter:title content="Принципы построения асинхронного API"><meta name=twitter:description content="В компании используются две технологии для межпродуктового асинхронного взаимодействия.
Kafka  RabbitMQ   Комфортная скорость
Acknowledgment
Многоразовое чтение
Продвинутый роутинг
Приоритет сообщений
Модель
Скалирование брокера
Скалирование клиента
 100 rps




Пулл
Горизонтальное
Скалирование количества партиций топика
 20 rps




Пуш
Вертикальное как так?
Скалирование количества потребителей
  Кейсы использования
  Анализ данных: трекинг, поглощение данных, логгирование, аудит безопасности. Процессинг реального времени: множество продюссеров с небольшим количеством консьюмеров."><script async src="https://www.googletagmanager.com/gtag/js?id=G-EJPYBKPS1Q"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','G-EJPYBKPS1Q');</script><link rel=preload href=/scss/main.min.5b8be1c3e3352fe8fb4a7c3a5e41f0ecf4caa0661b409886d2db9b0c579ffa1e.css as=style><link href=/scss/main.min.5b8be1c3e3352fe8fb4a7c3a5e41f0ecf4caa0661b409886d2db9b0c579ffa1e.css rel=stylesheet integrity></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg"><path d="m475.65 371.26-472.26.14 235.93-243.18 118.17 121.52z" fill="#fff"/><path d="m239.38 226.59-122.7 125.91H360.8z" fill="#7bb51c"/><path d="M84.613 317.218l27.407 29.124 19.007-19.27-6.364-6.687L112.7 332.44 91.657 310.1zm22.9-23.228 27.662 28.772 19.516-19.798-5.346-5.63-12.388 12.494-5.94-6.335 9.928-10.03-5.6-5.895-9.928 10.03-5.1-5.455L132.3 280l-5.346-5.63zm91.47-64.76c-7.9-8.36-21.468-7.4-28.086-.704-6.534 6.687-9.928 19.886-.68 29.74 10.182 10.823 22.316 6.863 28.85.264 9.758-9.767 6.28-22.525-.085-29.3zm-5.77 23.58c-4.327 4.4-9.673 3.168-15.698-3.256-5.1-5.455-4.837-10.9-1.103-14.606 2.546-2.552 7.722-4.927 13.916 1.672 6.958 7.48 7.212 11.8 2.885 16.2zm24.013-35.372-6.45-27.98-8.23 8.36 4.243 15.838-14.425-5.543-7.806 7.83 24.692 8.27 11.625 11.967 7.212-7.303zm-34.705 57.545s-17.48-6.16-18.328-6.07c-.255.088 3.733-11.087-5.26-16.014.0.0-6.703-3.784-13.407 2.552l-14.34 14.694 27.577 28.86 7.297-7.4-14.934-15.838 24.183 6.6zm-27.068-3.96c-4.073 4.135-4.582 4.4-4.582 4.4l-6.618-7.04c-.255-.264 4.582-4.487 5.346-5.28.34-.352 3.3-2.376 5.77.264-.085.088 4.158 3.52.085 7.655zm68.816-70.127 9.42-20.853L218.68 195l-6.364-6.687 27.83-28.684 9.164 9.503-10.097 20.5 20.534-9.6 8.74 9.24-27.83 28.684-6.788-7.04 14.764-15.134-20.195 9.415zm48.535 38.804-5.685 5.895-19.346-20.237 27.916-28.684L295.046 217l-5.6 5.807-12.22-12.758-4.497 4.663 9.588 10.03-5.855 6.07-9.588-9.943-6.024 6.247zm30.207 43.466 27.83-28.772 7.212 7.567-21.128 21.733 11.794 12.318-6.788 6.95zm58.878 3.73-27.893 28.688-7-7.3 27.893-28.688zm-21.713 35.16 27.916-28.772 9.503 10.03-8.146 29.74 18.498-19.006 6.364 6.687-27.916 28.684-8.315-8.7 7.212-31.236-18.583 19.446zm-21.89-80.774-16.97-17.686-27.916 28.596 7.212 7.48 15.273-15.662-5.515 25.87 7.382 7.655 5.94-19.27s6.28 3.608 13.152-2.552c0 0 6.618-6.687 1.442-14.43zm-10.352 8.36s-3.564 2.464-6.703-.792l-4.92-5.367 6.703-6.863 5.176 5.367c.5.616 4.073 3.432-.255 7.655z"/></svg></span><span class="text-uppercase font-weight-bold">Леруа Мерлен Tech</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/values/><span>Ценности</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/stack/><span>Стек Технологий</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/api/><span class=active>API</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/knowledge/><span>Знания</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/startups/><span>Стартапам</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Русский</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/en/api/async/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Русский</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/en/api/async/>English</a></div></div><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/api/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">API</a></li><ul><li class="collapse show" id=api><a class="td-sidebar-link td-sidebar-link__page" id=m-apisync href=/api/sync/>Принципы построения синхронного API</a>
<a class="td-sidebar-link td-sidebar-link__page active" id=m-apiasync href=/api/async/>Принципы построения асинхронного API</a></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/adeo/lmru--tech/edit/master/content/ru/api/async.md target=_blank><i class="fa fa-edit fa-fw"></i>Редактировать страницу</a>
<a href="https://github.com/adeo/lmru--tech/issues/new?title=%d0%9f%d1%80%d0%b8%d0%bd%d1%86%d0%b8%d0%bf%d1%8b%20%d0%bf%d0%be%d1%81%d1%82%d1%80%d0%be%d0%b5%d0%bd%d0%b8%d1%8f%20%d0%b0%d1%81%d0%b8%d0%bd%d1%85%d1%80%d0%be%d0%bd%d0%bd%d0%be%d0%b3%d0%be%20API" target=_blank><i class="fab fa-github fa-fw"></i>Предложить улучшение</a></div><nav id=TableOfContents><ul><li><a href=#общие-правила>Общие правила</a></li><li><a href=#соглашение-о-названиях>Соглашение о названиях</a><ul><li><a href=#kafka-топик>Kafka Топик</a></li><li><a href=#rabbitmq-эксчейндж>RabbitMQ Эксчейндж</a></li><li><a href=#rabbitmq-очередь>RabbitMQ Очередь</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=/api/>API</a></li><li class="breadcrumb-item active" aria-current=page><a href=/api/async/>Принципы построения асинхронного API</a></li></ol></nav><div class=td-content><h1>Принципы построения асинхронного API</h1><p>В компании используются две технологии для межпродуктового асинхронного взаимодействия.</p><div class="row mb-2 mt-4"><div class="offset-4 col-4 text-center"><img src=../kafka.png alt="Kafka logo" style=height:100px><h3 class="h3 mt-3">Kafka</h4></div><div class="col-4 text-center"><img src=../rabbitmq.png alt="RabbitMQ logo" style=height:100px><h3 class="h3 mt-3">RabbitMQ</h4></div></div><div class="row mb-4 mt-2"><div class="col-4 text-right"><p><b class=text-nowrap>Комфортная скорость</b></p><p><b class=text-nowrap>Acknowledgment</b></p><p><b class=text-nowrap>Многоразовое чтение</b></p><p><b class=text-nowrap>Продвинутый роутинг</b></p><p><b class=text-nowrap>Приоритет сообщений</b></p><p><b class=text-nowrap>Модель</b></p><p><b class=text-nowrap>Скалирование брокера</b></p><p><b class=text-nowrap>Скалирование клиента</b></p></div><div class="col-4 text-center"><p>100 rps</p><p><i class="fa fa-check"></i></p><p><i class="fa fa-check"></i></p><p><i class="fa fa-minus"></i></p><p><i class="fa fa-minus"></i></p><p><abbr data-toggle=tooltip title="Потребители запрашивают батчи сообщений начиная с определённого оффсета.">Пулл</abbr></p><p>Горизонтальное</p><p>Скалирование количества партиций топика</p></div><div class="col-4 text-center"><p>20 rps</p><p><i class="fa fa-check"></i></p><p><i class="fa fa-minus"></i></p><p><i class="fa fa-check"></i></p><p><i class="fa fa-check"></i></p><p><abbr data-toggle=tooltip title="Сообщения доставляются от Реббита к потребителю.">Пуш</abbr></p><p>Вертикальное <sup><abbr data-toggle=tooltip title="Да, все наши кластеры Реббита проскалированы горизонтально. Однако, Реббит потребляет много ресурсов для координации и гораздо эффективнее скалировать его через увеличение мощности нод.">как так?</abbr></sup></p><p>Скалирование количества потребителей</p></div></div><div class="row mb-4 mt-2"><div class="col-4 text-right"><p><b class=text-nowrap>Кейсы использования</b></p></div><div class=col-4><ul><li>Анализ данных: трекинг, поглощение данных, логгирование, аудит безопасности.</li><li>Процессинг реального времени: множество продюссеров с небольшим количеством консьюмеров.</li><li>Event Sourcing: моделирование изменения состояния системы через поледовательность событий.</li></ul></div><div class=col-4><ul><li>Сложный роутинг до потребителей.</li><li>Меж-микросервисная коммуникация.</li><li>Приложение поддериживает только легаси протоколы (STOMP, MQTT и другие).</li></ul></div></div><h2 id=общие-правила>Общие правила</h2><p>Каждый продукт имеет свой собственный экземпляр брокера сообщений.
Система, публикующая данные, ответственна за этот экземпляр.</p><p>Всякая информация, обладающая ценностью одновременно для нескольких систем, передаётся через <abbr data-toggle=tooltip title="Независимое от бизнес процесса и способа потребления, а также минималичичное API, созданное для нескольких потребителей.">канонические</abbr> топики или эксчейнджи. Все каноничные топики, эксчейнджи и очереди привязаны к домену через указание <abbr data-toggle=tooltip title="products, services, stocks, prices, offers, orders, customers, partners, company, locations, finance или technical">канонического домена</abbr> в названии.</p><p>Запрещается отправка напрямую в RabbitMQ очередь: вместо этого используй эксчейндж.</p><h2 id=соглашение-о-названиях>Соглашение о названиях</h2><p>Используй <em>camelCase</em> для всех полей.</p><h3 id=kafka-топик>Kafka Топик</h3><pre><code>[app]-[type]-[int/ext]-[domain]-[object]-[version]
</code></pre><ul><li><code>app</code> название публикующего приложения</li><li><code>type</code><ul><li><code>system</code> топик для использования только внутри продуктовой команды или приложения</li><li><code>init</code> топик для полного извлечения данных, не используемый для постоянной интеграции <sup><abbr data-toggle=tooltip title="Загрузить информацию в новое приложение или восстановить исторические данные после падения.">примеры</abbr></sup></li><li><code>canonical</code> топик для публикации <abbr data-toggle=tooltip title="Независимое от бизнес процесса и способа потребления, а также минималичичное API, созданное для нескольких потребителей.">канонической</abbr> информации</li></ul></li><li><code>int/ext</code> <em>int</em> топик используется внутри, <em>ext</em> топик опубликован в Интернет</li><li><code>domain</code> <abbr data-toggle=tooltip title="products, services, stocks, prices, offers, orders, customers, partners, company, locations, finance или technical">канонический домен</abbr></li><li><code>object</code> данные, отправляемые через это топик <sup><abbr data-toggle=tooltip title="fulfillmentTask, shipment, paymentTask">примеры</abbr></sup></li><li><code>version</code> версия топика</li></ul><div class="alert alert-success" role=alert><h4 class=alert-heading>Пример</h4><code>crm-canonical-int-customers-organization-v9</code></div><h3 id=rabbitmq-эксчейндж>RabbitMQ Эксчейндж</h3><pre><code>[app]-[type]-x-[domain]-[object]-[version]
</code></pre><ul><li><code>app</code> название публикующего приложения</li><li><code>type</code><ul><li><code>tx</code> topic exchange.</li><li><code>fx</code> fanout exchange.</li><li><code>dx</code> direct exchange.</li><li><code>hx</code> headers exchange</li></ul></li><li><code>x</code> exchange</li><li><code>domain</code> <abbr data-toggle=tooltip title="products, services, stocks, prices, offers, orders, customers, partners, company, locations, finance или technical">канонический домен</abbr></li><li><code>object</code> данные, передаваемые через эксчейндж <sup><abbr data-toggle=tooltip title="fulfillmentTask, shipment, paymentTask">примеры</abbr></sup></li><li><code>version</code> версия эксчейнджа</li></ul><div class="alert alert-success" role=alert><h4 class=alert-heading>Пример</h4><code>paymentGateway-tx-x-orders-paymentTask-v1</code></div><h3 id=rabbitmq-очередь>RabbitMQ Очередь</h3><pre><code>[app]-[type]-q-[domain]-[object]-[filter]-[version]
</code></pre><ul><li><code>app</code> название подписавшегося приложения</li><li><code>type</code><ul><li><code>tx</code> topic эксчейндж.</li><li><code>fx</code> fanout эксчейндж.</li><li><code>dx</code> direct эксчейндж.</li><li><code>hx</code> headers эксчейндж</li></ul></li><li><code>q</code> очередь</li><li><code>domain</code> <abbr data-toggle=tooltip title="products, services, stocks, prices, offers, orders, customers, partners, company, locations, finance или technical">канонический домен</abbr></li><li><code>object</code> данные, передаваемые через очередь <sup><abbr data-toggle=tooltip title="fulfillmentTask, shipment, paymentTask">примеры</abbr></sup></li><li><code>filter</code> описания фильтров для типов: <code>tx</code>, <code>dx</code>, <code>hx</code> <sup><abbr data-toggle=tooltip title="created, updatedStatus, updatedStatusPaid">примеры</abbr></sup></li><li><code>version</code> версия очереди</li></ul><div class="alert alert-success" role=alert><h4 class=alert-heading>Пример</h4><code>solution-tx-q-orders-paymentTask-created-v2</code></div><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><h2 class=feedback--title>Обратная связь</h2><p class=feedback--question>Ты нашёл ответ на свой вопрос?</p><button class="feedback--answer feedback--answer-yes btn">Да</button>
<button class="feedback--answer feedback--answer-no btn">Нет</button><p class="feedback--response feedback--response-yes">Огонь! :) <a href=https://github.com/adeo/lmru--tech/issues/new target=_blank>Подскажи</a>, как можно сделать ещё лучше.</p><p class="feedback--response feedback--response-no">Печально это слышать :( <a href=https://github.com/adeo/lmru--tech/issues/new target=_blank>Подскажи</a>, какой вопрос у тебя был.</p><div class=toast id=emotions style=position:fixed;bottom:50px;right:250px><div class=toast-header><strong class=mr-auto>Спасибо за фидбек!</strong>
<button type=button class="ml-2 mb-1 close" data-dismiss=toast aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=toast-body>Соберём самые полезные и бесполезные ценности. Ты также можешь <a href="https://github.com/adeo/lmru--tech/issues/new?title=">предложить исправление</a>.</div></div><script>const yesButton=document.querySelector('.feedback--answer-yes');const noButton=document.querySelector('.feedback--answer-no');const yesResponse=document.querySelector('.feedback--response-yes');const noResponse=document.querySelector('.feedback--response-no');const disableButtons=()=>{yesButton.disabled=true;noButton.disabled=true;};const sendFeedback=(value)=>{gtag('event','feedback',{'eventLabel':'emotions','eventLocation':document.location.pathname,'eventContent':value,'eventContext':'Полезность'});};yesButton.addEventListener('click',()=>{yesResponse.classList.add('feedback--response__visible');disableButtons();sendFeedback('Yes');});noButton.addEventListener('click',()=>{noResponse.classList.add('feedback--response__visible');disableButtons();sendFeedback('No');});</script><br><div class="text-muted mt-5 pt-3 border-top">Последнее изменение 07.07.2020: <a href=https://github.com/adeo/lmru--tech/commit/56f2de214f53c031d9ee91cfd2ce67add1db7eca>russian translation for values (56f2de2)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Licensed under a Creative Commons Attribution-ShareAlike 4.0 International License" aria-label="Licensed under a Creative Commons Attribution-ShareAlike 4.0 International License"><a class=text-white target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/><i class="fab fa-creative-commons-sa"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/adeo><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://adeo-tech-community.slack.com><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Jobs aria-label=Jobs><a class=text-white target=_blank href="https://hh.ru/search/vacancy?text=%D0%9B%D0%B5%D1%80%D1%83%D0%B0%20%D0%9C%D0%B5%D1%80%D0%BB%D0%B5%D0%BD&search_field=company_name&specialization=1"><i class="fa fa-building"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2021 Leroy Merlin Vostok LLC Все права защищены</small></div></div></div></footer></div><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js integrity="sha256-x3YZWtRjM8bJqf48dFAv/qmgL68SI4jqNWeSLMZaMGA=" crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js integrity="sha256-OFRAJNoaD8L3Br5lglV7VyLRf0itmoBzWUoM+Sji4/8=" crossorigin=anonymous></script><script src=/js/main.min.d6bf4f24d2db4399ecc109046149f20c1913ac4630205b19aaec9d26e864c2b5.js integrity="sha256-1r9PJNLbQ5nswQkEYUnyDBkTrEYwIFsZquydJuhkwrU=" crossorigin=anonymous></script><script>$('#youmax').youmax({apiKey:'AIzaSyAc7Z4PtwiyQzntMScG533kmdoBMuH5FAI',youTubeChannelURL:"https://www.youtube.com/channel/UCIqfZ4wqEoC6x6x-zyPCL8g",youmaxDefaultTab:"UPLOADS",youmaxColumns:4,showVideoInLightbox:false,maxResults:8,});</script><script src=/bundle/rss-parser.min.js></script><script>var habr=$("#habr");let parser=new RSSParser();parser.parseURL('https://jsonp.afeld.me/?url=https://habr.com/ru/rss/company/leroy_merlin/blog/?fl=ru&mobile=no',function(err,feed){if(err)throw err;var i;for(i=0;i<5;i++){var item=feed.items[i];var itemDate=new Date(item.pubDate).toLocaleString('ru',{year:'numeric',month:'long',day:'numeric'});var itemHtml='<div class="card promoting-card"> \
                                <div class="card-body d-flex flex-row"><img src="/images/habr.png" class="rounded-circle mr-3" height="50px" width="50px" alt="avatar"><div> \
                                <a target="_blank" href="'+item.link+'"><h4 class="card-title font-weight-bold mb-2">'+item.title+'</h4></a> \
                                <p class="card-text"><i class="fa fa-user pr-1"></i> '+item.creator+'<i class="fa fa-clock pl-3 pr-1"></i>'+itemDate+'</p> \
                                <p class="habrText">'+item.contentSnippet.substring(0,250)+'…</p> \
                                </div></div> \
                                </div>';habr.html(habr.html()+itemHtml);}})</script></body></html>